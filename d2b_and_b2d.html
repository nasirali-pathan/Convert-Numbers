<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Decimal to Binary Converter</title>
    <style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 20px;
        background: #f5f7fa;
        color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    h1 {
        text-align: center;
        color: #2c3e50;
    }

    input, button {
        padding: 10px;
        font-size: 1rem;
        margin: 8px;
        border: 1px solid #ccc;
        border-radius: 6px;
    }

    input {
        width: 250px;
    }

    button {
        background-color: #3498db;
        color: white;
        border: none;
        cursor: pointer;
    }

    button:hover {
        background-color: #2980b9;
    }

    #error {
        background: #ffe6e6;
        color: #b30000;
        border: 1px solid #b30000;
        padding: 16px;
        border-radius: 6px;
        margin-top: 10px;
    }

    table {
        border-collapse: collapse;
        width: 100%;
        max-width: 600px;
        margin-top: 20px;
        background: white;
        box-shadow: 0 0 8px rgba(0,0,0,0.1);
        border-radius: 8px;
        overflow: hidden;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 12px;
        text-align: center;
    }

    th {
        background-color: #3498db;
        color: white;
    }

    #binary-container {
        font-size: 1.2rem;
        margin-top: 20px;
        background: #ecf0f1;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 0 5px rgba(0,0,0,0.05);
    }

    #b2d-container {
        margin-top: 30px;
        max-width: 600px;
        width: 100%;
    }

    .steps {
        background: white;
        border-left: 4px solid #3498db;
        padding: 12px 16px;
        margin: 12px 0;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        border-radius: 6px;
    }

    code {
        font-family: monospace;
        color: #2c3e50;
        background: #e8f4fd;
        padding: 2px 6px;
        border-radius: 4px;
    }

    @media (max-width: 600px) {
        input {
            width: 90%;
        }

        table, #binary-container, .steps {
            width: 100%;
        }
    }
</style>

</head>

<body>
    <h1>Decimal to Binary Converter</h1>
    <input type="text" id="input" placeholder="Enter a decimal number" value="11" />
    <button onclick="display()">Convert</button>

    <div id="error-container"></div>
    <div id="result-container"></div>
    <div id="binary-container"></div>

    <div id="b2d-container">

    </div>


    <script>
        function display() {
            document.getElementById('binary-container').innerHTML = '';
            let input = document.getElementById('input').value;
            let number = parseInt(input);
            let quotient = 0;
            let remainder = 0;
            let step = [];
            let binary = [];

            document.getElementById('error-container').innerHTML = "";

            document.getElementById('result-container').innerHTML =
                "<table>" +
                "<thead>" +
                "<tr>" +
                "<th>Number</th>" +
                "<th>Divided by 2</th>" +
                "<th>Quotient</th>" +
                "<th>Remainder</th>" +
                "</tr>" +
                "</thead>" +
                "<tbody id='rows'></tbody>" +
                "</table>";

            if (number < 0 || isNaN(input)) {
                document.getElementById('error-container').innerHTML = "<div id='error'>" + number + " INVALID NUMBER, ACCEPTS ONLY POSITIVE INTEGER</div>";
            } else if (number === 0) {
                document.getElementById('rows').innerHTML +=
                    "<tr>" +
                    "<td> 0 </td>" +
                    "<td> 2 </td>" +
                    "<td> 0 </td>" +
                    "<td> 0 </td>" +
                    "</tr>";
            } else {

                while (number > 0) {
                    quotient = Math.floor(number / 2);
                    remainder = number % 2;

                    document.getElementById('rows').innerHTML +=
                        "<tr>" +
                        "<td>" + number + "</td>" +
                        "<td> 2 </td>" +
                        "<td>" + quotient + "</td>" +
                        "<td>" + remainder + "</td>" +
                        "</tr>";

                    binary.push(remainder);
                    number = quotient;
                }
                binary = binary.reverse();
                let joinedbinary = binary.join('');
                document.getElementById('binary-container').innerHTML = "Binary: <code>" + joinedbinary + "</code> <hr>";
                



                // B2D
                document.getElementById('b2d-container').innerHTML = '';
                document.getElementById('b2d-container').innerHTML +=
                    "<h1>Binary to Decimal Converter</h1>" +
                    "Binary: <code>" + joinedbinary + "</code>" +
                    "<div id='b2d-step1' class='steps'></div>" +
                    "<div id='b2d-step2' class='steps'></div>" +
                    "<div id='b2d-step3' class='steps'></div>" +
                    "<div id='b2d-step4' class='steps'></div>" +
                    "<div id='b2d-step5' class='steps'></div>" ;

                //  step 1 - 1(2^3)+0(2^2)+1(2^1)+1(2^0)
                let step1 = [];
                for (let i = 0; i < binary.length; i++) {
                    step1.push(binary[i] + "(2<sup>" + (binary.length - i - 1) + "</sup>)");
                }
                document.getElementById('b2d-step1').innerHTML = "<span><strong >Step 1:</strong> " + step1.join(' + ') + "</span>";

                //  step 2 - 1(2x2x2)+0(2x2)+1(2)+1()
                let step2 = [];
                for (let i = 0; i < binary.length; i++) {
                    let power = binary.length - i - 1;
                    let repeated = "";

                    if (power === 0) {
                        repeated = "1"; // 2^0 is 1
                    } else {
                        repeated = "2";
                        for (let j = 1; j < power; j++) {
                            repeated += "x2";
                        }
                    }

                    step2.push(binary[i] + "(" + repeated + ")");
                }
                document.getElementById('b2d-step2').innerHTML = "<span><strong>Step 2:</strong> " + step2.join(' + ') + "</span>";

                //  step 3 - 

                let step3 = [];
                for (let i = 0; i < binary.length; i++) {
                    step3.push(binary[i] + "(" + (2**(binary.length - i - 1)) + ")");
                }
                document.getElementById('b2d-step3').innerHTML = "<span><strong>Step 3:</strong> " + step3.join(' + ') + "</span>";

                // step 4
                let step4= []
                for (let i = 0; i < binary.length; i++) {
                    let power = binary.length-i-1;
                    step4.push(binary[i] * (2**power));
                }
                document.getElementById('b2d-step4').innerHTML = "<span><strong>Step 4:</strong> " + step4.join(' + ') + "</span>";

                // step 5
                let sum = 0;
                for (let i = 0; i < step4.length; i++) {
                    sum += step4[i];
                }
                document.getElementById('b2d-step5').innerHTML = "<span><strong>Step 5:</strong> " + sum + "</span>";
            }
        }


    </script>
</body>
</html>